<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Stop music</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon.png">

    <style>
        html {
            background-color: black;
        }

        body {
            color: white;
            font-family: Calibri, "Segoe UI", sans-serif;
            margin: 0 auto;
            width: 100vw;
            padding: 5% 5%;
            height: 100vh;
            font-size: 12vh;
            line-height: 12vh;
        }
    </style>
</head>
<body>

<h1 style="text-align: center;">Tap</h1>

<pre id="log"></pre>

<script>
    'use strict';

    (() => {
        const audio = document.createElement('audio');

        document.addEventListener('click', playAudio);

        function log(e) {
            const line = typeof e === 'string' ? e : e.message;
            document.getElementById('log').textContent += line + '\n';
            console.log(line);
        }

        function playAudio() {
            // audio.src = 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV////////////////////////////////////////////AAAAAExhdmM1OC4xMwAAAAAAAAAAAAAAACQDkAAAAAAAAAGw9wrNaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDsAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxHYAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV';
            audio.src = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV';

            audio.play()
                .then(reloadDelay)
                .catch(log);
        }

        function reloadDelay() {
            setTimeout(() => {
                location.reload();
            }, 1000);
        }

        navigator.mediaSession.setActionHandler('play', async function () {
            log('> User clicked "Play" icon.');
            playAudio();
        });
    })();
</script>

</body>
</html>
